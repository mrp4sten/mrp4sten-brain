Tags: 
- [[Java]]
- [[0 Spring Boot]]

Spring Security can be used to implement JWT Authentication and Authorization to your APIs. The library provides a JWT-based authentication filter that you can add to your API endpoints. The filter will check the JWT that is included in the request header, and if it is valid, it will set the authentication information in the security context. You can then use the security context to perform authorization checks on the API endpoints.

### Spring Boot and JWT (JSON Web Token)

**JWT (JSON Web Token)** is a compact, URL-safe token format used for securely transmitting information between parties. In the context of **Spring Boot**, JWT is commonly used for **authentication and authorization** in RESTful APIs. JWT allows stateless authentication, meaning the server doesn’t need to store session information. Instead, the token contains all the necessary information about the user’s identity and access permissions.

### How JWT Works:

1. **User Login**: A user submits their credentials (typically username and password) to an authentication endpoint (e.g., `/login`).
2. **Generate JWT**: If the credentials are valid, the server generates a JWT that contains user-specific information (claims) like the user's ID, roles, or permissions.
3. **Return Token**: The server returns the JWT to the client (e.g., web or mobile app).
4. **Token Usage**: The client stores the JWT (usually in local storage or an HTTP cookie) and includes it in the `Authorization` header for subsequent requests to access protected resources.
5. **Token Validation**: On each request, the server validates the JWT (ensuring it is not expired and is correctly signed) before granting access to the protected resource.

### JWT Structure:

A JWT is composed of three parts, separated by dots (`.`):

1. **Header**: Contains information about how the token is signed (e.g., the signing algorithm).
    - Example: `{"alg": "HS256", "typ": "JWT"}`
2. **Payload**: Contains the claims, which is the main content of the token, such as user identity and roles.
    - Example: `{"sub": "1234567890", "name": "John Doe", "iat": 1516239022}`
3. **Signature**: The signature is used to verify that the sender of the JWT is who it says it is and to ensure that the message wasn’t changed along the way. It is generated by signing the header and payload with a secret key.
![[JWT-Workflow.webp]]